---
layout: post
title: Paxos Made Simple 论文 Notes
category: notes
---

个人心得.

# 一, Paxos 算法是用来解决什么问题的?

先看一个场景: 一个日志收集系统, 需要从多个不同的机器上实时收集日志.

最简单的实现方式是, 找一台中心服务器, 所有的日志生产机器作为客户端, 不断的把日志提交到中心服务器, 中心服务器实现日志收集的目的.

但这种实现方式有一个问题, 中心服务器是一个单点, 一旦中心服务器发生故障, 整个系统不可用.

改进方案: 找多个服务器来收集日志, 例如 2 个. 当每台日志生产机器需要提交日志时, 每条日志都同时被提交到两台收集日志的服务器上面.
这样, 同时有多个日志收集服务器在工作, 解决了单点问题.

但这种多收集服务器的实现方式有另外一个问题, 两台收集日志服务器上收集到的日志可能会不一致. 
例如, 假设有两台日志生产机器 P1, P2; 同时有两台日志收集机器: Q1, Q2. 考虑下面这种情况:
1. P1 发送一条日志信息 M1 分别到 Q1, Q2
2. P2 发送一条日志信息 M2 分别到 Q1, Q2

但由于实际网络的状况, 日志被收集到的顺序在 Q1, Q2 可能会不一致, 例如: 
* Q1 收集到的日志的顺序是 M1, M2
* 而 Q2 收集到的日志的顺序是 M2, M1

上面的请求只是一种不一致的情况, 现实环境中, 情况更加复杂, 可能会有更多的问题 (例如, 由于网络不稳定, P1 发出的消息达到, 而 P2 发出的消息丢失)

上面这种情况是一个典型的分布式系统的一致性问题, 有很多分布式一致性算法来解决这种问题. 

而 **Paxos 算法就是一种分布式一致性算法, 同时 Paxos 还具有容错性, 能在各种错误环境中, 保证一致性**

{% include references.md %}